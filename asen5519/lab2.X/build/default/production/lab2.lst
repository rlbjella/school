MPASM 5.68                          LAB2.ASM   9-11-2016  20:48:42         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;;;;;;; Lab 2 template for ASEN 4519/5519 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00002 ;
                      00003 ;       Created:        Scott Palo (scott.palo@colorado.edu)
                      00004 ;   Modified:   your info here
                      00005 ;       orignal:        10-SEP-06
                      00006 ;   Modified:   
                      00007 ;
                      00008 ;       This file provides a basic assembly programming template
                      00009 ;
                      00010 ;;;;;;; Program hierarchy ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00011 ;
                      00012 ; Mainline
                      00013 ;   Initial
                      00014 ;
                      00015 ;;;;;;; Assembler directives ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00016 
                      00017         list  P=PIC18F87K22, F=INHX32, C=160, N=0, ST=OFF, MM=OFF, R=DEC, X=ON
                      00018         #include p18f87k22.inc
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : May 15 2016
                      00005 ;  MPASM PIC18F87K22 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2016 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      02984         LIST
                      00019 ;               MPLAB 7.20 and later configuration directives
                      00020 ;               Select "Configuration Bits set in code" to use the following configuration
                      00021                 CONFIG  FOSC = HS1
                      00022                 CONFIG  PWRTEN = ON, BOREN = ON, BORV = 1, WDTEN = OFF
                      00023                 CONFIG  CCP2MX = PORTC, XINST = OFF
                      00024 
                      00025 ;;;;;;; Variables ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00026 
                      00027         cblock  0x000          ;Beginning of Access RAM
  00000000            00028         count
                      00029         endc
                      00030 
                      00031 ;;;;;;; Macro definitions ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00032 
                      00033 
                      00034 ;;;;;;; Vectors ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00035 
                      00036         org  0x0000             ;Reset vector
000000 0000           00037         nop
000002 EF?? F???      00038         goto  Mainline
                      00039 
                      00040         org  0x0008             ;High priority interrupt vector
000008 EF?? F???      00041         goto  $                 ;Trap
                      00042 
                      00043         org  0x0018             ;Low priority interrupt vector
000018 EF?? F???      00044         goto  $                 ;Trap
                      00045 
                      00046 ;;;;;;; Mainline program ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00047 
00001C                00048 Mainline
00001C D???           00049         rcall   Initial          ;Initialize everything
00001E                00050 Loop
00001E 708A           00051         btg     LATB,0          ;Toggle pin, to support measuring loop time
000020 0EFA           00052         movlw   H'FA'
000022 0F38           00053         addlw   H'38'
000024 2AE8           00054         incf    WREG
000026 26E8           00055         addwf   WREG
000028 6CE8           00056         negf    WREG
00002A 36E8           00057         rlcf    WREG
00002C CFE8 F000      00058         movff   WREG,count
000030 D???           00059                 bra     Loop
                      00060 
                      00061 ;;;;;;; Initial subroutine ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00062 ;
                      00063 ; This subroutine performs all initializations of variables and registers.
                      00064 
000032                00065 Initial
000032 0EC0           00066         movlw   B'11000000'             ; Move I/O values for PORTB into WREG
000034 6E93           00067                 movwf   TRISB                   ; Set I/O (TRISB)for PORTB
000036 6A8A           00068                 clrf    LATB                    ; Drive all outputs on port B to zero
000038 0E34           00069                 movlw   0x34
00003A 0F56           00070                 addlw   0x56
00003C 0E00           00071                 movlw   0
00003E 0E01           00072                 movlw   B'00000001'
000040 0012           00073         return
                      00074 
                      00075         end

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

